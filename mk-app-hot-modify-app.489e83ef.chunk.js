webpackJsonp([12],{2027:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u,o,r=a(2),i=n(r),c=a(53),f=n(c),s=a(5),d=n(s),p=a(11),l=n(p),m=a(6),g=n(m),h=a(7),A=n(h),v=a(0),y=(n(v),a(301)),S=a(756),J=n(S),_=(u=(0,y.wrapper)(J.default))(o=function(t){function e(){return(0,d.default)(this,e),(0,g.default)(this,(e.__proto__||(0,f.default)(e)).apply(this,arguments))}return(0,A.default)(e,t),(0,l.default)(e,[{key:"render",value:function(){return this.props.monkeyKing((0,i.default)({},this.props,{path:"root"}))}}]),e}(v.Component))||o;e.default=_,t.exports=e.default},2028:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function u(t){var e=new m.action(t),a=new b((0,r.default)({},t,{metaAction:e})),n=(0,r.default)({},e,a);return e.config({metaHandlers:n}),n}Object.defineProperty(e,"__esModule",{value:!0});var o=a(2),r=n(o),i=a(657),c=n(i),f=a(50),s=n(f),d=a(5),p=n(d);e.default=u;var l=a(0),m=(n(l),a(301)),g=a(680),h=n(g),A=a(10),v=n(A),y=a(2145),S=(n(y),a(656)),J=n(S),_=a(70),b=function t(e){var a=this;(0,p.default)(this,t),this.onInit=function(t){var e=t.component,n=t.injections;a.component=e,a.injections=n,n.reduce("init",{apps:a.getApps()})},this.getApps=function(t){var e=a.config.apps,n=(0,s.default)(e),u=[];return n.forEach(function(t){"config"!=t&&u.push({name:e[t].name,meta:e[t].meta})}),t?u.filter(function(e){return-1!=e.name.indexOf(t)}):u},this.appSelected=function(t){if(t||0!=t.length){var e=a.metaAction.gf("data.apps"),n=e.find(function(e){return e.get("name")==t[0]});n&&a.metaAction.sfs({"data.selectApp":n,"data.currentJson":"meta"==a.metaAction.gf("data.selectType")?J.default.beautifyJS((0,c.default)(n.get("meta").toJS())):J.default.beautifyJS(a.getAppState(n.get("name")))})}},this.searchChange=function(t){a.metaAction.sfs({"data.search":t.target.value,"data.apps":(0,_.fromJS)(a.getApps(t.target.value))})},this.typeChange=function(t){var e="";if("meta"==t.target.value)e=J.default.beautifyJS((0,c.default)(a.metaAction.gf("data.selectApp.meta").toJS()));else{var n=a.metaAction.gf("data.selectApp.name");e=a.getAppState(n)}a.metaAction.sfs({"data.selectType":t.target.value,"data.currentJson":J.default.beautifyJS(e)})},this.getAppState=function(t){var e=window.__mk_store__.getState().get(t);return e?(e=e.toJS(),J.default.beautifyJS((0,c.default)({data:e.data}))):"该应用还未加载"},this.jsonChange=function(t,e,n){try{var u=v.default.string.toJson(n),o=a.metaAction.gf("data.selectApp.name"),r=a.metaAction.gf("data.selectType");"meta"==r?a.metaAction.sfs({"data.currentJson":n,"data.selectApp.meta":(0,_.fromJS)(u)}):a.metaAction.sf("data.currentJson",n),"meta"==r?a.forceUpdateMeta(o,u):"state"==r&&a.forceUpdateState(o,u)}catch(t){console.error(t)}},this.forceUpdateMeta=function(t,e){setTimeout(function(){a.metaAction.setMetaForce(t,e);var n=a.metaAction.getAppInstances();(0,s.default)(n).forEach(function(e){n[e].appName==t&&n[e].instance.forceUpdate()})},0)},this.forceUpdateState=function(t,e){setTimeout(function(){var n=a.metaAction.getAppInstances();(0,s.default)(n).forEach(function(a){n[a].appName==t&&n[a].instance.props.setField("data",(0,_.fromJS)(e.data))})},0)},this.formatJson=function(){var t=J.default.beautifyJS(a.metaAction.gf("data.currentJson"));a.metaAction.sf("data.currentJson",t)},this.reset=function(){var t=a.config.apps,e=(0,s.default)(t),n=a.metaAction.gf("data.selectApp");e.forEach(function(e){t[e].name==n.get("name")&&(a.metaAction.sfs({"data.selectApp.meta":(0,_.fromJS)(t[e].meta),"data.currentJson":J.default.beautifyJS((0,c.default)(t[e].meta))}),a.forceUpdateMeta(n.get("name"),t[e].meta))})},this.metaAction=e.metaAction,this.config=h.default.current};t.exports=e.default},2029:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function u(t){var e=new m.reducer(t),a=new S((0,f.default)({},t,{metaReducer:e}));return(0,f.default)({},e,a)}Object.defineProperty(e,"__esModule",{value:!0});var o,r,i,c=a(2),f=n(c),s=a(657),d=n(s),p=a(5),l=n(p);e.default=u;var m=(a(70),a(301)),g=a(680),h=n(g),A=a(757),v=a(656),y=n(v),S=(r=o=function t(e){(0,l.default)(this,t),i.call(this),this.metaReducer=e.metaReducer,this.config=h.default.current},i=function(){var t=this;this.init=function(e,a){var n=(0,A.getInitState)();return n.data.apps=a.apps,a.apps.length>0&&(n.data.selectApp=a.apps[0],n.data.selectType="meta",n.data.currentJson=y.default.beautifyJS((0,d.default)(a.apps[0].meta))),t.metaReducer.init(e,n)}},r);t.exports=e.default},2145:function(t,e,a){"use strict";function n(t){(0,o.default)().render(t,function(t,e){if(t)return void utils.exception.error(t);var a=document.querySelector("#mk-meta-design-dynamic-style");a&&a.remove();var n=document.head||document.getElementsByTagName("head")[0],u=document.createElement("style");u.id="mk-meta-design-dynamic-style",u.type="text/css",u.innerHTML=e.css,n.appendChild(u)})}Object.defineProperty(e,"__esModule",{value:!0}),e.addStyleSheet=n;var u=a(658),o=function(t){return t&&t.__esModule?t:{default:t}}(u);e.default={addStyleSheet:n}}});